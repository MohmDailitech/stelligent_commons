{
  "AWSTemplateFormatVersion":"2010-09-09",
  "Description":"Provision CodeDeploy Application and Deployment",
  "Parameters":{
    "Bucket":{
      "Type":"String",
      "Default":"pmd-codedeploy",
      "Description":"The unique bucket name where deployment distribution is located"
    },
    "ETag":{
      "Type":"String",
      "Default":"c286ff709ac52fb99db882941552b3ca",
      "Description":"Unique tag associated with a S3 distribution bundle. Go to the Properties of the file in S3 to get this value"
    },
    "TagKey":{
      "Type":"String",
      "Default":"Name",
      "Description":"The tag name that is associated with EC2 instances on which CodeDeploy agent is installed"
    },
    "TagValue":{
      "Type":"String",
      "Default":"PmdCodeDeployDemo1",
      "Description":"The value associated with TagKey"
    },
    "RoleArn":{
      "Type":"String",
      "Description":"ARN for IAM role created when EC2 instances that have installed CodeDeploy agent were provisioned. Output value of CFN stack."
    }
  },
  "Resources":{
    "MyApplication":{
      "Type":"AWS::CodeDeploy::Application"
    }
  },
  "Outputs":{
    "MyApplicationID":{
      "Value":{
        "Ref":"MyApplication"
      }
    }
  }
}